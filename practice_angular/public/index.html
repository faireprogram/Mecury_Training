<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="libs/bootstrap/dist/css/bootstrap.css"
    />
    <script src="libs/angular/angular.js" type="text/javascript"></script>
    <script src="libs/underscore/underscore.js" type="text/javascript"></script>
</head>

<body ng-app="main">
<!--   <form method="post" action="/api/user">
        <input name="firstName">
        <input name="lastName">
        <button type="submit">Submit</button>
    </form>
-->
    <div ng-controller="LoginCtrl">
        <form class="form-inline" ng-show="! username">
            <div class="form-group">
                <label>User Name<label>
                <input type="text" class="form-control" ng-model="user.name">
            </div> 
            <div class="form-group">
                <label>Password<label>
                <input type="password" class="form-control" ng-model="user.password">
            </div> 
            <button ng-click="signup(user)">Sign Up</button>
            <button ng-click="login(user)">Login</button>
        </form>
        <div ng-show="!!username">
                Welcome, {{username}} !
                <button ng-click="loginout()">Logout</button>
        </div>
    </div>

    <div class="container" ng-controller="UserCtrl">
        <form class="form-group">
            <input class="form-control" ng-model="newUser.firstName">
            <input class="form-control" ng-model="newUser.lastName">
            <button class="btn btn-primary" ng-click="add(newUser)">Submit</button>
            <button class="btn btn-primary" ng-click="updateUser(newUser)">Update</button>
        </form>
        <table class="table table-striped">
            <tr>
                <th>first name</th>
                <th>last name</th>
            </tr>
            <tr ng-repeat="(uid, user) in users" ng-dblclick="del(uid)" ng-click="selectUser(user)">
                <td>{{user.firstName}}</td>
                <td>{{user.lastName}}</td>
            </tr>
        </table>
    </div>
    <script src="app.js" type="text/javascript"></script>
    <script src="login.js" type="text/javascript"></script>
</body>

</html>
